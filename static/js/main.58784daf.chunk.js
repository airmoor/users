(this.webpackJsonpusers=this.webpackJsonpusers||[]).push([[0],{107:function(e,a,t){},108:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(8),c=t.n(o),s=t(150),l=t(153),i=t(151),m=t(38),u=t(19),d=t(47),f=t(135),h=t(137),p=t(147),g=t(35),b=t(152),E=t(148),v=t(149),k=t(39),w=t.n(k),x=t(139),j=t(154),y=t(140),O=t(141),W=t(142),L=t(143),S=t(144),C=t(145),U=t(146),F=t(71),I=t.n(F),T=t(69),N=t.n(T),_=t(70),z=t.n(_),A=Object(f.a)({root:{minWidth:350,maxWidth:500,borderRadius:10,margin:50,padding:"30px 30px",boxShadow:"0 20px 50px  rgba(0, 0, 0, .3)",background:"#b0a4ff",color:"#000"}});function B(e){var a=e.token,t=A(),o=Object(r.useState)({users:[],filtredUsers:[],isLoaded:!1,error:"",searchText:"",sortFromLess:!0}),c=Object(d.a)(o,2),s=c[0],i=c[1];Object(r.useEffect)((function(){w.a.get("http://emphasoft-test-assignment.herokuapp.com/api/v1/users/",{headers:{Authorization:"Token ".concat(a)}}).then((function(e){console.log("success",e),i(Object(u.a)({},s,{error:"",isLoaded:!0,users:e.data,filtredUsers:e.data}))})).catch((function(e){console.log("error",e),i(Object(u.a)({},s,{error:e,isLoaded:!0}))}))}),[]);return n.a.createElement(h.a,{className:t.root},n.a.createElement(l.a,{alignItems:"flex-end"},n.a.createElement(x.a,null,n.a.createElement(j.a,{size:"normal",htmlFor:"search",color:"#fff"},"Search by username"),n.a.createElement(y.a,{className:t.white,id:"search",value:s.searchText,onChange:function(e){var a=e.target.value.toLowerCase(),t=s.users.filter((function(e){return e.username.toLowerCase().includes(a)}));i(Object(u.a)({},s,{filtredUsers:t,searchText:e.target.value}))},endAdornment:n.a.createElement(O.a,{position:"end"},n.a.createElement(W.a,{"aria-label":"search"},n.a.createElement(N.a,null))),labelWidth:70})),n.a.createElement(W.a,{"aria-label":"sort",onClick:function(){var e=s.filtredUsers.sort((function(e,a){return e.id-a.id}));s.sortFromLess||e.reverse(),i(Object(u.a)({},s,{filtredUsers:e,sortFromLess:!s.sortFromLess}))}},n.a.createElement(z.a,null))),n.a.createElement(L.a,null,s.filtredUsers.map((function(e){return n.a.createElement(S.a,{key:e.id,alignItems:"flex-start"},n.a.createElement(C.a,null,n.a.createElement(I.a,{color:e.is_superuser?"secondary":"primary"})),n.a.createElement(U.a,{primary:n.a.createElement(g.a,null,e.id,": ",e.username," "),secondary:n.a.createElement(g.a,{color:"textSecondary"},e.first_name," ",e.last_name)}))}))))}var J=Object(f.a)({root:{minWidth:350,maxWidth:500,borderRadius:10,margin:100,padding:"30px 30px",boxShadow:"0 20px 50px  rgba(0, 0, 0, .3)",background:"#b0a4ff",color:"#fff"},secondary:{color:"#c2c2ff"},white:{color:"#fff"}});function R(){var e=J(),a=Object(r.useState)({username:"",password:"",error:"",token:""}),t=Object(d.a)(a,2),o=t[0],c=t[1],s=function(e){return function(a){c(Object(u.a)({},o,Object(m.a)({},e,a.target.value)))}};return n.a.createElement(n.a.Fragment,null,!o.token&&n.a.createElement(h.a,{className:e.root},n.a.createElement(p.a,null,n.a.createElement(g.a,{variant:"h4",align:"center"}," Sign In"),n.a.createElement(b.a,{id:"username",fullWidth:!0,type:"username",label:"Username",margin:"normal",value:o.username,onChange:s("username")})," ",n.a.createElement("br",null),n.a.createElement(b.a,{id:"password",fullWidth:!0,type:"password",label:"Password",margin:"normal",value:o.password,onChange:s("password")})," ",n.a.createElement("br",null),o.error&&n.a.createElement(g.a,{component:"p",color:"info",align:"center"},o.error)),n.a.createElement(E.a,null,n.a.createElement(v.a,{color:"primary",variant:"contained",fullWidth:!0,onClick:function(){var e={username:o.username||void 0,password:o.password||void 0};w.a.post("http://emphasoft-test-assignment.herokuapp.com/api-token-auth/",e).then((function(e){e?(c(Object(u.a)({},o,{error:"",token:e.data.token})),console.log("token",o.token),console.log("signin good")):console.log("no data")})).catch((function(e){c(Object(u.a)({},o,{error:"incorrect user"})),console.log("incorrect user",e)}))}},"Submit"))),o.token&&n.a.createElement(B,{token:o.token}))}var M=t(72),P=t(34),$=t.n(P),q=Object(M.a)({palette:{primary:{light:$.a[400],main:$.a[500],dark:$.a[600]},secondary:{main:"#c8ccff"},success:{main:$.a[200]}}});var D=function(){return n.a.createElement(s.a,{theme:q},n.a.createElement(l.a,{display:"flex",flexWrap:"nowrap",justifyContent:"center",alignItems:"center"},n.a.createElement(i.a,null),n.a.createElement(R,null)))};t(107),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},81:function(e,a,t){e.exports=t(108)}},[[81,1,2]]]);
//# sourceMappingURL=main.58784daf.chunk.js.map